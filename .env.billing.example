# Maestro billing/license deployment template
# Copy to .env.billing.local for local use, or set these in Railway service variables.

# Shared service-to-service auth token between billing and license services.
MAESTRO_INTERNAL_TOKEN=replace-with-long-random-token

# Require auth on billing endpoints (recommended production default).
MAESTRO_BILLING_REQUIRE_AUTH=1

# Google OAuth for user authentication.
MAESTRO_GOOGLE_CLIENT_ID=GOOGLE_OAUTH_CLIENT_ID_PLACEHOLDER
MAESTRO_GOOGLE_CLIENT_SECRET=GOOGLE_OAUTH_CLIENT_SECRET_PLACEHOLDER
MAESTRO_GOOGLE_REDIRECT_URI=https://maestro-billing-service-production.up.railway.app/v1/auth/google/callback
# Optional domain restriction (comma-separated, e.g. company.com,subsidiary.com).
# MAESTRO_AUTH_ALLOWED_DOMAINS=

# Session signing key for Maestro auth tokens (use long random value).
MAESTRO_AUTH_JWT_SECRET=replace-with-long-random-secret

# Keep development-only endpoints disabled in production.
MAESTRO_ENABLE_DEV_ENDPOINTS=0

# Shared persistent state DB for billing + license services.
# Recommended (Railway Postgres reference in each service):
# MAESTRO_DATABASE_URL=${{Postgres.DATABASE_URL}}
# Local sqlite example:
# MAESTRO_DATABASE_URL=sqlite:///~/.maestro-solo/state.sqlite3

# License service URL as seen by billing service.
# Local default:
MAESTRO_LICENSE_URL=http://127.0.0.1:8082
# Railway internal example:
# MAESTRO_LICENSE_URL=https://maestro-license-production.up.railway.app

# Stripe API keys (server-side only).
MAESTRO_STRIPE_SECRET_KEY=STRIPE_SECRET_KEY_PLACEHOLDER
MAESTRO_STRIPE_WEBHOOK_SECRET=STRIPE_WEBHOOK_SECRET_PLACEHOLDER
MAESTRO_STRIPE_WEBHOOK_TOLERANCE_SECONDS=300
# Optional Stripe Customer Portal return URL after cancel/manage actions.
# If unset, billing service defaults to <billing-base-url>/upgrade
# MAESTRO_STRIPE_BILLING_PORTAL_RETURN_URL=https://maestro-billing-service-production.up.railway.app/upgrade

# Price IDs by plan.
# Exact plan IDs come from purchase --plan (e.g. solo_monthly, solo_yearly, solo_test_monthly).

# Generic fallback price ID (used only if no plan/mode-specific key is set).
# MAESTRO_STRIPE_PRICE_ID=price_replace_me

# Plan-specific (recommended):
MAESTRO_STRIPE_PRICE_ID_SOLO_MONTHLY=price_replace_me
MAESTRO_STRIPE_PRICE_ID_SOLO_YEARLY=price_replace_me
MAESTRO_STRIPE_PRICE_ID_SOLO_TEST_MONTHLY=price_replace_me

# Mode-specific overrides (optional, higher precedence):
# MAESTRO_STRIPE_PRICE_ID_LIVE_SOLO_MONTHLY=price_replace_me
# MAESTRO_STRIPE_PRICE_ID_LIVE_SOLO_YEARLY=price_replace_me
# MAESTRO_STRIPE_PRICE_ID_TEST_SOLO_TEST_MONTHLY=price_replace_me

# Installer launcher endpoints on billing service:
# - /free
# - /pro
#
# Keep package specs server-side so website commands stay clean:
#   curl -fsSL https://<billing-domain>/free | bash
#   curl -fsSL https://<billing-domain>/pro | bash
MAESTRO_INSTALLER_CORE_PACKAGE_SPEC=https://downloads.example.com/maestro_engine.whl https://downloads.example.com/maestro_solo.whl
MAESTRO_INSTALLER_PRO_PACKAGE_SPEC=https://downloads.example.com/maestro_engine.whl https://downloads.example.com/maestro_solo.whl
# Optional script source override:
# MAESTRO_INSTALLER_SCRIPT_BASE_URL=https://raw.githubusercontent.com/seanschneidewent/maestro-openclaw-agent-teams/refs/heads/main/scripts
# MAESTRO_INSTALLER_FREE_SCRIPT_URL=https://example.com/install-maestro-free-macos.sh
# MAESTRO_INSTALLER_PRO_SCRIPT_URL=https://example.com/install-maestro-pro-macos.sh

# Optional explicit bind settings (mostly useful outside Railway).
# MAESTRO_BILLING_HOST=0.0.0.0
# MAESTRO_BILLING_PORT=8081
# MAESTRO_LICENSE_HOST=0.0.0.0
# MAESTRO_LICENSE_PORT=8082
